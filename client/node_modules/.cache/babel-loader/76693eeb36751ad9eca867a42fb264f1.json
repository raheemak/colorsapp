{"ast":null,"code":"var _jsxFileName = \"/Users/raheema/Desktop/Colors/client/src/store/APIProvider.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport APIContext from \"./APIContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst APIProvider = props => {\n  _s();\n\n  //set api url based on current url \n  var url = \"\";\n  console.log(window.location.href);\n\n  if (window.location.href.includes(\"localhost\")) {\n    url = \"http://localhost:3001\";\n  } else {\n    //will be production\n    url = \"https://colorsappraheema.herokuapp.com\";\n  } //get access token \n\n\n  var authorizationToken = \"\";\n  var options = {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: '{\"client_id\":\"LbCNbwpfuTKNvUOOOTRXNdF3RMRz6Hf3\",\"client_secret\":\"omHXxXQ5qxeK4LY8jFrX9_YoibC6OOACKsjx2vApMlAw4gYUgR8pM1XSG4BlYbu2\",\"audience\":\"https://colorsappraheema.herokuapp.com/\",\"grant_type\":\"client_credentials\"}'\n  };\n\n  const getToken = async () => {\n    await fetch(\"https://dev-nze5vfxy.us.auth0.com/oauth/token\", options).then(res => res.json()).then(res => {\n      authorizationToken = res.access_token;\n      return authorizationToken;\n    });\n  };\n\n  React.useEffect(() => {\n    getToken();\n  }, []);\n  console.log(getToken());\n  const apiContext = {\n    api_url: url,\n    authorization: `Bearer ${authorizationToken}`\n  };\n  console.log(apiContext);\n  return /*#__PURE__*/_jsxDEV(APIContext.Provider, {\n    value: {\n      api_url: url,\n      authorization: `Bearer ${authorizationToken}`\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(APIProvider, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = APIProvider;\nexport default APIProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"APIProvider\");","map":{"version":3,"names":["React","APIContext","APIProvider","props","url","console","log","window","location","href","includes","authorizationToken","options","method","headers","body","getToken","fetch","then","res","json","access_token","useEffect","apiContext","api_url","authorization","children"],"sources":["/Users/raheema/Desktop/Colors/client/src/store/APIProvider.js"],"sourcesContent":["import React from 'react'\nimport APIContext from \"./APIContext\"\n\n\n\nconst APIProvider =  (props) => {\n\n    //set api url based on current url \n    var url = \"\"\n    console.log (window.location.href)\n    if (window.location.href.includes (\"localhost\")){\n        url = \"http://localhost:3001\"\n    }else {//will be production\n        url = \"https://colorsappraheema.herokuapp.com\"\n    }\n\n    //get access token \n    var authorizationToken = \"\"\n    var options = { method: 'POST',\n    headers: { 'content-type': 'application/json' },\n    body: '{\"client_id\":\"LbCNbwpfuTKNvUOOOTRXNdF3RMRz6Hf3\",\"client_secret\":\"omHXxXQ5qxeK4LY8jFrX9_YoibC6OOACKsjx2vApMlAw4gYUgR8pM1XSG4BlYbu2\",\"audience\":\"https://colorsappraheema.herokuapp.com/\",\"grant_type\":\"client_credentials\"}' };\n\n    const getToken = async ()=>{\n        await fetch (\"https://dev-nze5vfxy.us.auth0.com/oauth/token\", options).then (res=>res.json()).then (res=> {authorizationToken = res.access_token; return  (authorizationToken)})\n    }\n    React.useEffect ( ()=>{ getToken()}, [])\n\n    console.log (getToken())\n    const apiContext = {\n        api_url: url ,\n        authorization: `Bearer ${authorizationToken}`\n\n    }\n\n    console.log (apiContext)\n\n    return (\n        <APIContext.Provider value={{\n            api_url: url ,\n            authorization: `Bearer ${authorizationToken}`\n    \n        }}>\n            {props.children}\n        </APIContext.Provider>\n    )\n}\n\nexport default APIProvider;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;AAIA,MAAMC,WAAW,GAAKC,KAAD,IAAW;EAAA;;EAE5B;EACA,IAAIC,GAAG,GAAG,EAAV;EACAC,OAAO,CAACC,GAAR,CAAaC,MAAM,CAACC,QAAP,CAAgBC,IAA7B;;EACA,IAAIF,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,QAArB,CAA+B,WAA/B,CAAJ,EAAgD;IAC5CN,GAAG,GAAG,uBAAN;EACH,CAFD,MAEM;IAAC;IACHA,GAAG,GAAG,wCAAN;EACH,CAT2B,CAW5B;;;EACA,IAAIO,kBAAkB,GAAG,EAAzB;EACA,IAAIC,OAAO,GAAG;IAAEC,MAAM,EAAE,MAAV;IACdC,OAAO,EAAE;MAAE,gBAAgB;IAAlB,CADK;IAEdC,IAAI,EAAE;EAFQ,CAAd;;EAIA,MAAMC,QAAQ,GAAG,YAAU;IACvB,MAAMC,KAAK,CAAE,+CAAF,EAAmDL,OAAnD,CAAL,CAAiEM,IAAjE,CAAuEC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAA5E,EAAwFF,IAAxF,CAA8FC,GAAG,IAAG;MAACR,kBAAkB,GAAGQ,GAAG,CAACE,YAAzB;MAAuC,OAASV,kBAAT;IAA6B,CAAzK,CAAN;EACH,CAFD;;EAGAX,KAAK,CAACsB,SAAN,CAAkB,MAAI;IAAEN,QAAQ;EAAG,CAAnC,EAAqC,EAArC;EAEAX,OAAO,CAACC,GAAR,CAAaU,QAAQ,EAArB;EACA,MAAMO,UAAU,GAAG;IACfC,OAAO,EAAEpB,GADM;IAEfqB,aAAa,EAAG,UAASd,kBAAmB;EAF7B,CAAnB;EAMAN,OAAO,CAACC,GAAR,CAAaiB,UAAb;EAEA,oBACI,QAAC,UAAD,CAAY,QAAZ;IAAqB,KAAK,EAAE;MACxBC,OAAO,EAAEpB,GADe;MAExBqB,aAAa,EAAG,UAASd,kBAAmB;IAFpB,CAA5B;IAAA,UAKKR,KAAK,CAACuB;EALX;IAAA;IAAA;IAAA;EAAA,QADJ;AASH,CAxCD;;GAAMxB,W;;KAAAA,W;AA0CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}